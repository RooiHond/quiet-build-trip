"use client";

import { useState } from "react";
import Day1 from "./day1/page";

function Modal({ open, onClose, children }) {
  if (!open) return null;
  return (
    <div
      className="fixed inset-0 z-50 flex items-center justify-center bg-black/40"
      onClick={onClose}
    >
      <div
        className="bg-white rounded-lg shadow-lg max-w-lg w-full p-6 relative overflow-y-auto max-h-[80vh]"
        onClick={(e) => e.stopPropagation()}
      >
        <button
          className="absolute top-2 right-2 text-gray-500 hover:text-black text-2xl"
          onClick={onClose}
          aria-label="Close"
        >
          &times;
        </button>
        {children}
      </div>
    </div>
  );
}

export default function Home() {
  const [showDay1, setShowDay1] = useState(false);
  const [hoverDay1, setHoverDay1] = useState(false);

  return (
    <main className="flex min-h-screen flex-col items-center justify-center bg-green-50">
      <h1 className="text-4xl font-bold text-green-900">Tussen Stoppe en Stories</h1>
      <div className="relative w-full max-w-[500px] aspect-square mx-auto">
        {/* Map image as the base layer */}
        <img
          src="/south-africa-map.svg"
          alt="Map of South Africa"
          className="absolute top-0 left-0 w-full h-full object-contain select-none pointer-events-none"
          draggable={false}
        />
        {/* SVG overlay, fills the same space */}
        <svg
          viewBox="0 0 285.75 285.75"
          className="absolute top-0 left-0 w-full h-full pointer-events-none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="m 202.04201,89.320118 c -0.18785,-0.03646 -0.36734,-0.175403 -0.55479,-0.05043 -0.18295,0.121967 -0.26936,0.708329 -0.30261,0.907827 -0.0166,0.0995 0.0166,0.203113 0,0.30261 -0.009,0.05244 -0.0336,0.100869 -0.0504,0.151304 -0.0168,0.06725 -0.0406,0.13312 -0.0504,0.20174 -0.0256,0.179139 0.0355,0.377441 0,0.554783 -0.007,0.03686 -0.0443,0.06379 -0.0504,0.10087 -0.0311,0.186783 0,0.414002 0,0.605219 0,0.497194 -0.0203,0.978931 -0.10087,1.462608 -0.0639,0.383186 0.0885,1.007766 0,1.361742 -0.0158,0.06312 -0.13042,0.139083 -0.15131,0.201739 -0.0106,0.0319 0.0106,0.06897 0,0.10087 -0.0444,0.133321 -0.41651,0.478287 -0.35304,0.605219 0.0199,0.0398 0.17655,0.344649 0.20174,0.353044 0.0319,0.01064 0.069,-0.01064 0.10087,0 0.11562,0.03854 0.71388,0.566478 0.80696,0.706088 0.087,0.130485 0.21424,0.352621 0.25217,0.504349 0.0274,0.109648 0.0251,0.201554 0.10087,0.302609 0.13569,0.180917 0.18914,0.365659 0.30261,0.554781 0.0245,0.04077 0.0773,0.05958 0.10087,0.10087 0.1229,0.215072 0.16078,0.477607 0.25217,0.706088 0.24321,0.60801 0.37624,1.225532 0.50435,1.866092 0.11592,0.5796 0.27069,1.13829 0.35305,1.71478 -0.005,0.12771 0.0807,0.23232 0.10086,0.35305 0.0489,0.2932 -0.008,0.6179 0.0504,0.90783 0.0208,0.10426 0.0834,0.19773 0.10087,0.30261 0.0309,0.18531 0.027,0.36704 0.0504,0.55478 0.0183,0.1463 0.12707,0.25805 0.15131,0.40348 0.008,0.0498 -0.0139,0.10281 0,0.1513 0.0207,0.0723 0.0712,0.13264 0.10087,0.20174 0.13875,0.32376 0.22917,0.67837 0.35304,1.0087 0.0759,0.20251 0.0919,0.47266 0.20174,0.65566 0.0245,0.0408 0.0745,0.0613 0.10087,0.10086 0.0901,0.13512 0.15563,0.27475 0.25218,0.40348 0.13838,0.18452 0.33561,0.29733 0.45391,0.50435 0.0264,0.0462 0.0267,0.10376 0.0504,0.1513 0.10065,0.20132 0.26965,0.39676 0.35304,0.60522 0.0125,0.0312 -0.015,0.0708 0,0.10087 0.0213,0.0425 0.0796,0.0583 0.10087,0.10087 0.015,0.0301 -0.008,0.0683 0,0.10087 0.0235,0.094 0.10957,0.26958 0.1513,0.35305 0.0319,0.0638 0.10851,0.0942 0.15131,0.1513 0.10206,0.13609 -8e-4,0.0827 0.10087,0.25218 0.0245,0.0408 0.0723,0.0628 0.10087,0.10087 0.0848,0.11303 0.0594,0.27895 0.10087,0.40347 0.008,0.0225 0.0429,0.0279 0.0504,0.0504 0.0218,0.0653 0.0282,0.90195 0,0.95826 -0.008,0.015 -0.0385,-0.0119 -0.0504,0 -0.0255,0.0255 -0.16958,0.3896 -0.20174,0.45392 -0.0106,0.0213 -0.0336,0.0336 -0.0504,0.0504 -0.0336,0.0504 -0.077,0.0956 -0.10087,0.15131 -0.0273,0.0637 -0.0261,0.13683 -0.0504,0.20173 -0.0517,0.13788 -0.13907,0.27813 -0.20174,0.40348 -0.0139,0.0279 0.0835,0.50255 0.10087,0.55478 0.008,0.0225 0.0429,0.0279 0.0504,0.0504 0.0122,0.0366 0.0657,0.77638 0.0504,0.80696 -0.1213,0.2426 -0.33262,0.39328 -0.55479,0.50436 -0.0841,0.0421 -0.20067,-5.3e-4 -0.3026,0.0504 -0.0521,0.026 -0.17417,0.0962 -0.20174,0.15131 -0.008,0.015 0.0119,0.0385 0,0.0504 -0.0119,0.0119 -0.0385,-0.0119 -0.0504,0 -0.0569,0.0569 0.0224,0.26332 0,0.35304 -0.0934,0.37383 -0.10913,1.09719 0.10087,1.41219 0.16531,0.24796 0.19616,0.62771 0.25218,0.90783 0.0168,0.0504 0.0336,0.10087 0.0504,0.1513 0.0168,0.0168 0.0429,0.0279 0.0504,0.0504 0.0588,0.17626 0,0.73712 0,0.95826 0,0.12972 0.0104,0.18265 0.0504,0.30261 0.0568,0.1703 -0.10004,1.10708 -0.1513,1.26087 -0.0674,0.20216 0.0201,0.67604 -0.0504,0.95825 -0.0376,0.15028 -0.14381,0.30911 -0.20174,0.45392 -0.13412,0.33532 -0.31757,0.81635 -0.40348,1.16 -0.0163,0.0652 0.0163,0.1365 0,0.20174 -0.0655,0.26188 -0.0504,-0.0538 -0.0504,0.20174 0,0.13951 -0.0171,0.32057 -0.0504,0.45391 -0.0823,0.32927 -0.0271,-0.19055 -0.10087,0.25218 -0.0203,0.12155 -0.0209,0.23511 -0.0504,0.35304 -0.009,0.0365 -0.0443,0.0638 -0.0504,0.10087 -0.0111,0.0663 0.01,0.13517 0,0.20174 -0.0241,0.16874 -0.0673,0.33679 -0.10087,0.50434 -0.0165,0.0824 0.0165,0.16975 0,0.25218 -0.007,0.0369 -0.0413,0.0644 -0.0504,0.10087 -0.0163,0.0652 0.0163,0.1365 0,0.20174 -0.0446,0.17847 -0.0804,0.37743 -0.15131,0.55478 -0.12364,0.3091 -0.43678,0.70464 -0.50435,1.0087 -0.0258,0.11605 -0.0246,0.237 -0.0504,0.35304 -0.10975,0.49391 0.0117,-0.42338 -0.10087,0.25218 -0.0434,0.26059 0.0121,0.58095 -0.10087,0.80696 -0.0225,0.0451 0.016,0.10345 0,0.1513 -0.008,0.0225 -0.0398,0.0292 -0.0504,0.0504 -0.15231,0.30461 0.007,0.0213 -0.0504,0.25217 -0.0261,0.10447 -0.12105,0.21185 -0.1513,0.30261 -0.0106,0.0319 0.0106,0.069 0,0.10087 -0.0452,0.13551 -0.17294,0.28462 -0.25218,0.40348 -0.11111,0.0254 -0.0267,0.10375 -0.0504,0.1513 -0.0995,0.19903 -0.20837,0.36631 -0.30261,0.55478 -0.015,0.0301 0.0106,0.069 0,0.10087 -0.0314,0.0941 -0.0628,0.12564 -0.10087,0.20174 -0.0336,0.0673 0.0336,0.18493 0,0.25218 -0.0106,0.0213 -0.0398,0.0292 -0.0504,0.0504 -0.008,0.0159 -0.0118,0.68261 0,0.70609 0.0738,0.14768 0.26141,0.26603 0.35304,0.40348 0.14093,0.21139 0.26276,0.44457 0.40348,0.65565 0.0983,0.1474 0.0636,0.2785 0.10087,0.35305 0.0956,0.19125 0.33769,0.50873 0.40347,0.70608 0.0451,0.13539 0.0658,0.3138 0.10087,0.45392 0.0553,0.221 0.1465,0.43466 0.20174,0.65565 0.0574,0.22962 0,0.66033 0,0.90783 0,0.1082 0.0472,0.57398 0.0504,0.60522"
            style={{
              fill: "none",
              stroke: hoverDay1 ? "#fb923c" : "#eab308", // orange-400 on hover, yellow-400 otherwise
              strokeWidth: 2,
              cursor: "pointer",
              pointerEvents: "auto",
              filter: hoverDay1 ? "drop-shadow(0 0 4px #fb923c88)" : undefined,
              transition: "stroke 0.2s, filter 0.2s",
            }}
            onMouseEnter={() => setHoverDay1(true)}
            onMouseLeave={() => setHoverDay1(false)}
            onClick={() => setShowDay1(true)}
          />
          {/* Optional: SVG text label near the start of the path */}
          {hoverDay1 && (
            <text
              x={205} y={85} // Adjust coordinates as needed for your map
              fontSize="16"
              fill="#fb923c"
              stroke="#fff"
              strokeWidth="0"
              fontWeight="bold"
              pointerEvents="none"
              style={{ userSelect: "none" }}
            >
              Day 1
            </text>
          )}
        </svg>
        <Modal open={showDay1} onClose={() => setShowDay1(false)}>
          <Day1 />
        </Modal>
      </div>

      <p className="text-lg text-green-800">
        Exploring the open road with my father.
      </p>
    </main>
  );
}
